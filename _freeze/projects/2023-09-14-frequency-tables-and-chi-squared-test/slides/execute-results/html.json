{
  "hash": "ac00a53ddf47d00dda9b801417998283",
  "result": {
    "markdown": "---\ntitle: \"Unlocking Insights: Analyzing Categorical Data with Cross-Tab and Chi-Squared Test\"\ndescription: \"Discover how to extract valuable insights from categorical data using frequency tables and the chi-squared test, with a case study on gender representation in senior roles.\"\ncategories: [frequency tables, chi-squared test, categorical data, quantitative analysis]\ndraft: true\nformat: \n  revealjs: \n   theme: theme.scss\n   transition: fade\n   background-transition: fade\ncode-link: true\ntoc-depth: 1\nexecute:\n  echo: true\n  freeze: auto\n---\n\n\n# Overview of the Presentation\n\n\n::: {.cell}\n\n:::\n\n\n## Introducing two distinct tools for data analysis with categorical data\n\n-   frequency tables\n-   chi-squared test\n\n## Case study\n\n-   focused on diversity and inclusion (D&I)\n-   sourced from the book [Predictive HR Analytics : Mastering the HR Metric](https://www.amazon.com/Predictive-HR-Analytics-Mastering-Metric/dp/0749473916)\n-   with data available [here](https://www.koganpage.com/hr-learning-development/predictive-hr-analytics-9780749484446)\n\n## Data exploration and analysis\n\n-   `tidyverse` package\n-   data preparation and exploration\n-   creation of cross-tab\n-   data visualization\n-   chi-squared test\n\n# The Business Perspective\n\n## The business needs\n\n-   **commercial perspective**\n\n    -   the organization seeks to foster a greater diversity of thought in senior and strategic discussions\n\n-   **people perspective**\n\n    -   the organization wants to assess whether it maintains gender balance by providing positive role models for younger employees\n\n## The research question\n\n<br>\n\n*Are women underrepresented in senior leadership roles within the organization?*\n\n# Data Preparation and Exploration\n\n## Read data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndiversity <- read_csv(\"../2023-09-14-frequency-tables-and-chi-squared-test/diversity1.csv\")\nglimpse(diversity)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 1,493\nColumns: 11\n$ BossGender       <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ Gender           <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2,…\n$ JobGrade         <dbl> 6, 5, 5, 3, 6, 7, 6, 5, 6, 6, 5, 5, 5, 5, 3, 7, 6, 5,…\n$ Age              <dbl> 39, 37, 35, 30, 33, 40, 49, 37, 33, 38, 42, 31, 39, 2…\n$ Tenure           <dbl> 0, 6, 1, 3, 0, 0, 8, 1, 11, 2, 11, 6, 2, 0, 4, 2, 1, …\n$ Status           <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ PerformanceScore <dbl> 4, 4, 4, 4, NA, 4, 4, 5, 4, 4, 4, 4, 4, 4, 5, 4, 4, 4…\n$ BossPerformance  <dbl> 4, 3, 3, 3, 3, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 4, 4, 4,…\n$ Division         <dbl> 12, 12, 6, 6, 8, 1, 8, 8, 8, 8, 6, 6, 6, 6, 6, 10, 7,…\n$ Country          <dbl> 3, 4, 7, 7, 7, 7, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 3, 8,…\n$ leaver           <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n```\n:::\n:::\n\n\n-   1.493 observations and 11 variables\n-   data type: double <dbl> for all variables\n\n## Description of variables of interest\n\n<br>\n\n::: small\n::: columns\n::: {.column width=\"65%\"}\n| Level | Job Grade                   |\n|-------|-----------------------------|\n| 1     | Clerical/Officer            |\n| 2     | Administrator/Assistant     |\n| 3     | Graduate/Trainee Consultant |\n| 4     | Consultant                  |\n| 5     | Senior Consultant           |\n| 6     | Managing Consultant         |\n| 7     | Principal Consultant        |\n| 8     | Partner                     |\n:::\n\n::: {.column width=\"35%\"}\n| Level | Gender |\n|-------|--------|\n| 1     | Female |\n| 2     | Male   |\n:::\n:::\n:::\n\n## Data manipulation (I)\n\n-   make new variables *gender* and *jobgrade*\n-   replacing numerical values with descriptive labels for both variables\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create new variables \"gender\" and \"jobgrade\"\ndiversity <- diversity|>\n  mutate(gender= factor(Gender,\n                        levels= c(1:2),\n                        labels= c(\"Female\", \"Male\")),\n         jobgrade= factor(JobGrade,\n                          levels= c(1:8),\n                          labels= c(\"Clerical/Officer\", \"Administrator/Assistant\", \"Graduate/Trainee Consultant\", \"Consultant\", \"Senior Consultant\", \"Managing Consultant\", \"Principal Consultant\", \"Partner\")))\n```\n:::\n\n\n## Data manipulation (II)\n\n-   detect and rectify inaccuracies in the data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# variables' levels\ndiversity|>\n  distinct(gender, jobgrade)\n\n# filter and drop \"NA\" levels and name the new data frame \"diversity1\"\ndiversity1 <- diversity|>\n  filter(gender!=\"NA\")|>\n  droplevels()\n\n#variables' levels filtered\ndiversity1|>\n  distinct(gender, jobgrade)\n```\n:::\n\n\n## Cross-tab for insights\n\n::: small\n\n::: {.cell}\n\n```{.r .cell-code}\n# cross-tab; count and make a table for \"gender\" and \"jobgrade\" data\ndiversity1|>\n  count(gender, jobgrade)|>\n  pivot_wider(names_from = gender, values_from = n)|>\n  kable(col.names = c(\"JobGrade\", \"Female\", \"Male\"),\n        align = \"lrr\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> JobGrade </th>\n   <th style=\"text-align:right;\"> Female </th>\n   <th style=\"text-align:right;\"> Male </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Clerical/Officer </td>\n   <td style=\"text-align:right;\"> 31 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Administrator/Assistant </td>\n   <td style=\"text-align:right;\"> 227 </td>\n   <td style=\"text-align:right;\"> 116 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Graduate/Trainee Consultant </td>\n   <td style=\"text-align:right;\"> 160 </td>\n   <td style=\"text-align:right;\"> 103 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Consultant </td>\n   <td style=\"text-align:right;\"> 139 </td>\n   <td style=\"text-align:right;\"> 104 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Senior Consultant </td>\n   <td style=\"text-align:right;\"> 98 </td>\n   <td style=\"text-align:right;\"> 152 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Managing Consultant </td>\n   <td style=\"text-align:right;\"> 68 </td>\n   <td style=\"text-align:right;\"> 171 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Principal Consultant </td>\n   <td style=\"text-align:right;\"> 19 </td>\n   <td style=\"text-align:right;\"> 62 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Partner </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 29 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n## Proportions of gender within each jobgrade\n\n::: small\n\n::: {.cell}\n\n```{.r .cell-code}\ndiversity1|>\n  count(gender, jobgrade)|>\n  group_by(jobgrade)|>\n  mutate(prop= round(n/sum(n)*100),2)|>\n  pivot_wider(id_cols = jobgrade, names_from = gender, values_from = prop)|>\n  kable(col.names = c(\"Job Grade\", \"Female (%)\", \"Male (%)\"),\n        align = \"lrr\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Job Grade </th>\n   <th style=\"text-align:right;\"> Female (%) </th>\n   <th style=\"text-align:right;\"> Male (%) </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Clerical/Officer </td>\n   <td style=\"text-align:right;\"> 79 </td>\n   <td style=\"text-align:right;\"> 21 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Administrator/Assistant </td>\n   <td style=\"text-align:right;\"> 66 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Graduate/Trainee Consultant </td>\n   <td style=\"text-align:right;\"> 61 </td>\n   <td style=\"text-align:right;\"> 39 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Consultant </td>\n   <td style=\"text-align:right;\"> 57 </td>\n   <td style=\"text-align:right;\"> 43 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Senior Consultant </td>\n   <td style=\"text-align:right;\"> 39 </td>\n   <td style=\"text-align:right;\"> 61 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Managing Consultant </td>\n   <td style=\"text-align:right;\"> 28 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Principal Consultant </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 77 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Partner </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 88 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n## Gender by job grade\n\n::: small\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(diversity1, aes(x=jobgrade, fill=gender))+\n  geom_bar(position = \"fill\")+\n  labs(title = \"Gender by Job Grade\",\n      x = \"Job Grade\",\n      y = \"Proportions\",\n      fill= \"Gender\")+\n  theme_minimal(base_size = 14)+\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))+\n  scale_fill_manual(values = c(\"Female\" = \"#00589b\", \"Male\"= \"#ccddeb\"))\n```\n\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/graph I-1.png){fig-align='center' width=768}\n:::\n:::\n\n:::\n\n## *Are women underrepresented in senior leadership roles within the organization?*\n\n::: goal\n::: small\nUp to this point, data reveal an observable pattern, men are more prevalent in senior roles and women predominantly occupy junior roles.\n:::\n:::\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/graph II-1.png){fig-align='center' width=1152}\n:::\n:::\n\n\n## Does this organization have a D&I problem?\n\n<br>\n\n-   the data reveal a pattern that women are found more in junior roles and men in senior roles.\n-   however, the data did not indicate if this is a coincidence or if it is statistically significant.\n-   the chi-squared test can be used to determine whether the observed pattern is statistically significant.\n\n# Chi-Squared Test\n\n## The hypotheses\n\n<br>\n\n::: small\n**H0**: There is no association between gender and job grade within the organization.\n\n-   the observed distribution of females and males across job grades is due to random chance.\n\n**H1**: There is a significant association between gender and job grade within the organization.\n\n-   the observed distribution of females and males across job grades is not a result of random chance; it reflects a significant pattern of male predominance in senior roles and a greater representation of females in entry-level positions.\n:::\n\n## Chi squared test in R\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncross_tab <- table(diversity1$jobgrade, diversity1$gender)\nchisq.test(cross_tab)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tPearson's Chi-squared test\n\ndata:  cross_tab\nX-squared = 164.7, df = 7, p-value < 2.2e-16\n```\n:::\n:::\n\n\n::: goal\n::: small\n-   the p-value is extremely small, less than 2.2e-16, which is very close to zero.\n-   since the p-value is less than the significance level of 0.05, we can confidently reject the null hypothesis, concluding that the two variables are dependent.\n-   this result indicates a statistically significant association between gender and job grade.\n-   it suggests that certain factors are influencing the observed distribution of genders within job grades.\n:::\n:::\n\n# Conclusions\n\n## Conclusions\n\n-   frequency tables provided a clear summary of the distribution of gender on job grade and an observable pattern: **men are more prevalent in senior roles and women predominantly occupy junior roles**.\n\n-   the chi-squared test's results, with a p-value close to zero, confirmed **a very strong association between gender and job grade**.\n\n## Recommendation\n\n-   while this statistical evidence does not directly imply that there is a D&I problem within the organization, it signals that factors beyond chance influence this distribution.\n-   to address potential gender bias or discrimination and foster diversity and inclusion within the organization, further analysis and actions are necessary.\n",
    "supporting": [
      "slides_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    // dispatch for htmlwidgets\r\n    function fireSlideEnter() {\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n    }\r\n\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n      fireSlideEnter();\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}